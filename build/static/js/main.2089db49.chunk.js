(this["webpackJsonppomino-mapbox-vis"]=this["webpackJsonppomino-mapbox-vis"]||[]).push([[0],{111:function(e,a){},149:function(e,a,t){e.exports=t(164)},161:function(e,a){},164:function(e,a,t){"use strict";t.r(a);var n=t(3),r=t.n(n),c=t(126),o=t.n(c),i=(t(154),t(155),t(89)),l=t(127),m=t.n(l),u=t(133),s=t(178),p=t(176),h={longitude:110,latitude:31,zoom:4.5,maxZoom:16,pitch:0,bearing:0},d=function(e){var a=[new s.a({data:e.data,id:"heatmap-layer",pickable:!1,getPosition:function(e){return[e[0],e[1]]},getWeight:e.paramState.accessor,radiusPixels:25,intensity:3,opacity:.12,threshold:.05,updateTriggers:{getWeight:[function(e){return e[2]},function(e){return e[3]},function(e){return e[4]}]}})];return console.log(a),r.a.createElement(p.a,{initialViewState:h,controller:!0,layers:a},r.a.createElement(u.a,{reuseMaps:!0,mapStyle:"mapbox://styles/mapbox/dark-v10",preventStyleDiffing:!0,mapboxApiAccessToken:"pk.eyJ1IjoicmljaGFyZHpodWFuZyIsImEiOiJja2N5YTQxNDYwN3d5MnNwamdteWl5d3k3In0.UgE-_u7VgdxQWuJh3fdh9w"}))},f=t(132),v=t.n(f),y=t(137),b=t(88),g=function(e){return r.a.createElement("div",{className:"map-overlay"},r.a.createElement("h5",{className:"map-overlay-title"},"Pomino V2 Pollution Map"),r.a.createElement("p",{className:"map-overlay-select-month"},"Please select a month: 2016.",e.month),r.a.createElement(v.a,{className:"map-overlay-slider",min:1,max:12,name:"month",value:e.month,onChange:e.handleMonthChange,variant:"dark"}),r.a.createElement("p",{className:"map-overlay-select-attribute"},"Please select an attribute: "),r.a.createElement(b.a,null,r.a.createElement(b.a.Check,{inline:!0,name:"param",type:"radio",label:"VCD",checked:"VCD"===e.paramState.param,onChange:function(){return e.dispatch({type:"VCD"})}}),r.a.createElement(b.a.Check,{inline:!0,name:"param",type:"radio",label:"AOD",checked:"AOD"===e.paramState.param,onChange:function(){return e.dispatch({type:"AOD"})}}),r.a.createElement(b.a.Check,{inline:!0,name:"param",type:"radio",label:"AMF",checked:"AMF"===e.paramState.param,onChange:function(){return e.dispatch({type:"AMF"})}})),r.a.createElement(y.a,{className:"map-overlay-botton",variant:"dark",size:"sm",onClick:e.handleClick,value:e.animate},e.animate?"Stop":"Loop"))};function E(){var e=Object(n.useState)(1),a=Object(i.a)(e,2),t=a[0],c=a[1],o=Object(n.useState)(null),l=Object(i.a)(o,2),u=l[0],s=l[1],p=Object(n.useState)(!1),h=Object(i.a)(p,2),f=h[0],v=h[1],y={param:"VCD",accessor:function(e){return e[2]}},b=Object(n.useReducer)((function(e,a){switch(a.type){case"VCD":return y;case"AOD":return{param:"AOD",accessor:function(e){return e[3]}};case"AMF":return{param:"AMF",accessor:function(e){return e[4]}}}}),y),E=Object(i.a)(b,2),k=E[0],C=E[1];Object(n.useEffect)((function(){fetch("data/".concat(O(t))).then((function(e){return e.text()})).then((function(e){return m.a.parse(e,{dynamicTyping:!0,complete:function(e){s(e.data)}})}))}),[t]),Object(n.useEffect)((function(){if(f){var e=setTimeout((function(){var e=t+1;c(e>12?e-12:e)}),1e3);return function(){return clearTimeout(e)}}}),[f,t]);var O=function(e){return e<10?"2016-0".concat(e,".csv"):"2016-".concat(e,".csv")};return r.a.createElement("div",null,r.a.createElement(d,{data:u,paramState:k}),r.a.createElement(g,{month:t,animate:f,paramState:k,handleMonthChange:function(e){var a=e.target.value;c(parseInt(a))},handleClick:function(){v(!f)},dispatch:C}))}o.a.render(r.a.createElement(E,null),document.getElementById("app"))}},[[149,1,2]]]);
//# sourceMappingURL=main.2089db49.chunk.js.map